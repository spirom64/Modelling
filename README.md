# Modelling

Вспомогательные утилиты для автоматизации процесса подготовки исходных данных для программ Gromacs и Plumed

## add_cat

Утилита для добавления стабилизирующих катионов в структуру нуклеиновой кислоты, описанную в файле pdb.

Использование:

`python add_cat.py [-f, --file input_filename] [-o, --output output_filename] [-c, --cation-type cation]`
`[-a, --acid-type acid] [-r, --rotation-angle angle] [-n, --number number] [--na-run] [--na-limit limit]`

Обязательные параметры:

-f, --file - исходный файл pdb
-o, --output - имя выходного файла

Опциональные параметры:

-c, --cation-type - тип катионов, добавляемых для стабилизации исходной структуры НК катионов. Возможные значения: "NA" (натрий, значение по умолчанию), "CA" (кальций), "MG" (магний)
-a, --acid-type acid - вид нуклеиновой кислоты, описанной во входном файле. Возможные значения: "RNA" (РНК, значение по умолчанию), "DNA" (ДНК)
-r, --rotation-angle angle - угол поворота плоскости, содержащей пару атомов кислорода и добавляемый между ними катион, при поиске оптимального положения добавляемого катиона. По умолчанию равен 5 градусам
-n, --number - максимальное число добавляемых катионов. 0 - ограничено только исходным суммарным зарядом (значение по умолчанию)
--na-run - при указании данного параметра будет произведено добавление катионов натрия для нейтрализации избыточного отрицательного заряда. Максимальное количество добавляемых катионов регулируется параметром --na-limit (если указано 0, то ограничено лишь зарядом)

## pot_utils

Утилиты для построения вспомогательных внешних потенциалов при проведении метадинамики

### build_potential

Строит симметричный относительно оси 0х потенциал в форме воронки.

Использование:

`python build_potential.py [-x, --xcut xcut] [-m, --cut cutoff] [-t, --tan tan] [-g, --bins bins]`
`[-a, --alen a] [-b, --blen b] [-c, --clen c] [-r, --radius r] [-o, --output filename] [-p, --pdb pdb]`
`[-l, --length l] [-k, --force k]`

Параметры:

-x, --xcut - минимальное значение координаты х, для которой выполняется построение потенциала
-m, --cut - максимальное расстояние от оси симметрии потенциала, для которого выполняется построение потенциала
-t, --tan - тангенс половинного угла при вершине конической части потенциала
-g, --bins - количество точек для построения потенциала вдоль одной оси
-a, --alen - параметр а ячейки, в которую помещена исследуемая система
-b, --blen - параметр b ячейки
-c, --clen - параметр с ячейки
-r, --radius - радиус цилиндрической части потенциала
-o, --output - название выходного файла (по умолчанию potential.pot)
-p, --pdb - название выходного pdb-файла для визуализации потенциала
-l, --length - длина цилиндрической части потенциала
-k, --force - силовая постоянная для расчета силового поля построенного потенциала

Все параметры являются опциональными.